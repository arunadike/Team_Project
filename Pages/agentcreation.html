<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Packages - Team 4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="packages.css" />
    <link rel="stylesheet" href="nav_footer_feedback.css">

</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <div class="nav__header">
            <div class="nav__logo">
                <a href="index.html" class="logo"><img src="assets/logo.png" alt="logo" /></a>
            </div>
            <div class="nav__menu__btn" id="menu-btn">
                <i class="ri-menu-line"></i>
            </div>
        </div>
        <ul class="nav__links" id="nav-links">
            <li><a href="index.html">HOME</a></li>
            <li><a href="about.html">ABOUT</a></li>
            <li><a href="support.html">SUPPORT</a></li>
            <li><a href="packages.html">PACKAGE</a></li>
            <li><a href="contactus.html">CONTACT</a></li>
            <li><a href="cart_main.html">CART</a></li>
        </ul>
        <div class="nav__btns">
            <a href="package_booking.html"><button class="btn">CREATE NEW PACKAGE</button></a>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-4">
        <div class="row">
            
                
            </div>

            <div class="col-lg-9">
                <div class="row">
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <!-- Footer Section -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <!-- Logo and Description -->
                <div class="col-md-3">
                    <div class="footer-logo">
                        <img src="assets/logo.png" alt="Logo" />
                    </div>
                    <p class="footer-description">
                        Discover The World One Adventure At A Time Life Is
                        Short Book A Trip
                    </p>
                </div>

                <!-- Company Links -->
                <div class="col-md-3">
                    <h5>Company</h5>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Tour Guide</a></li>
                        <li><a href="#">Packages</a></li>
                        <li><a href="#">Contact Us</a></li>
                    </ul>
                </div>

                <!-- Travel Links -->
                <div class="col-md-3">
                    <h5>Travel</h5>
                    <ul>
                        <li><a href="#">Turkey</a></li>
                        <li><a href="#">America</a></li>
                        <li><a href="#">Dubai</a></li>
                        <li><a href="#">Germany</a></li>
                    </ul>
                </div>

                <!-- Resources Links -->
                <div class="col-md-3">
                    <h5>Resources</h5>
                    <ul>
                        <li><a href="#">Free Ebooks</a></li>
                        <li><a href="#">Travel Guide</a></li>
                        <li><a href="#">How To Blog</a></li>
                    </ul>
                </div>
            </div>

            <!-- Follow Section -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="follow-box ms-3">
                        <span>Follow</span>
                        <div class="social-icon facebook">
                            <a href="#"><i class="bi bi-facebook"></i></a>
                        </div>
                        <div class="social-icon instagram">
                            <a href="#"><i class="bi bi-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Footer Bottom Section (Copyright) -->
    <div class="footer-bottom">
        <div class="container">
            <p>Copyright Â© 2025 TEAM 4. All rights reserved.</p>
        </div>
    </div>
    <a href="webfeedback.html">
        <div class="feedback-btn">
            Feedback
        </div>
    </a>
    <script src="./../JavaScript/agentcreation.js"></script>

    <!-- Scripts
   <script>
    function displayPackagesByUserId(userId) {
        const packagesContainer = $(".col-lg-9 .row"); // Or wherever you want to display the packages
        packagesContainer.empty(); // Clear previous content
      
        const jwtToken = localStorage.getItem('JWT'); // Get JWT token
      
        // Construct the API URL to fetch packages for a specific user.
        const apiUrl = `http://localhost:8081/api/user/${userId}`; //  <--  Adjust this URL
      
        $.ajax({
          url: apiUrl,
          method: "GET",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + jwtToken // Include JWT token
          },
          success: function(data) {
            if (data && data.length > 0) {
              //  Iterate through the packages and generate HTML to display them.
              let packagesHtml = "";
              data.forEach(package => {
                packagesHtml += `
                  <div class="col-md-4 mb-4">  
                    <div class="card">
                      <img src="${package.imageUrl}" class="card-img-top" alt="${package.title}" style="height: 200px; object-fit: cover;">
                      <div class="card-body">
                        <h5 class="card-title">${package.title}</h5>
                        <p class="card-text">${package.description}</p>
                        <p class="card-text">Duration: ${package.duration} days</p>
                        <p class="card-text">Price: $${package.price}</p>
                         
                      </div>
                    </div>
                  </div>
                `; //  Customize this HTML
              });
              packagesContainer.html(packagesHtml); //  Append the generated HTML
            } else {
              packagesContainer.html("<p>No packages found for this user.</p>");
            }
          },
          error: function(xhr, status, error) {
            console.error("Error fetching packages:", status, error);
            packagesContainer.html("<p>Error: Could not retrieve packages.</p>"); // User-friendly message
            if (xhr.status === 401) {
              alert("Unauthorized. Please log in.");
              // window.location.href = "/login";  // Redirect to login page if needed
            }
          }
        });
      }
      
      // Example usage:
      const userId = localStorage.getItem('userId'); //  Replace 123 with the actual user ID.
      if(userId){
        displayPackagesByUserId(userId);
      }
      else{
        console.log("user not logged in")
      }
      
      </script> -->
      
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script src="./../JavaScript/agentcreation.js"></script>
</body>



</html>
