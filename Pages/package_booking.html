<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pondicherry Weekend Escape Form</title>
    <link rel="stylesheet" href="package_booking.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="nav_footer_feedback.css">
</head>
<body>

<div class="popup">
    <div class="d-flex justify-content-between align-items-center">
        <h2 style="color: #2986fe; text-align: center; flex-grow: 1; margin-right: 20px;">Package Booking</h2>
        <button type="button" class="close-btn" onclick="$('.popup').hide();">&times;</button>
    </div>

    <form>
        <div class="form-group">
            <label for="location">Title:</label>
            <input type="text" class="form-control" id="title" placeholder="Enter Title" required>
        </div>

        <div class="form-group">
            <label for="price">Price:</label>
            <input type="number" class="form-control" id="price" placeholder="Enter price" required min="1000" step="500">
        </div>

        <div class="form-group">
            <label for="perPerson">Description</label>
            <input type="text" class="form-control" id="description" placeholder="Enter Description" required>
        </div>

        

        <div class="form-group">
            <label for="includedService">includedService:</label>
            <input type="text" class="form-control" id="includedService" placeholder="Enter includedService:" required>
        </div>
        <div class="form-group">
            <label for="userId">UserId:</label>
            <input type="number" class="form-control" id="userId" placeholder="Enter UserId" required>
        </div>
        <div class="form-group">
            <label for="duration">Duration:</label>
            <input type="number" class="form-control" id="duration" placeholder="Enter duration:" required>
        </div>

       

       

        <button id="submit1" type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
<a href="webfeedback.html"><div class="feedback-btn">
    Feedback
</div></a>

<script>
    $(document).ready(function() {
    $("#fromDate, #toDate").datepicker({
        dateFormat: "yy-mm-dd"
    });

    $("#submit1").on("click", function(event) {
        event.preventDefault(); // Stops default form submission

        var formData = {
            title: $("#title").val(),
            price: $("#price").val(),
            description: $("#description").val(),
            includedService: $("#includedService").val(),
            userId: $("#userId").val(),
            duration: $("#duration").val()
        };

        $.ajax({
            type: "POST",
            url: "http://localhost:8081/api/packageCreation",
            data: JSON.stringify(formData),
            contentType: "application/json",
            success: function(response) {
                alert("Package stored successfully!");
            },
            error: function(xhr) {
                alert("Error: " + xhr.responseText);
            }
        });
    });
});

</script>

</body>
</html>